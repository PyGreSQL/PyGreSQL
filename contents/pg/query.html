<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Query methods &#8212; PyGreSQL 6.2.3</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="../../_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css?v=27fed22d" />
    <script src="../../_static/documentation_options.js?v=c6c79ff1"></script>
    <script src="../../_static/doctools.js?v=fd6eb6e6"></script>
    <script src="../../_static/sphinx_highlight.js?v=6ffebe34"></script>
    <link rel="icon" href="../../_static/favicon.ico"/>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="LargeObject – Large Objects" href="large_objects.html" />
    <link rel="prev" title="The DB wrapper class" href="db_wrapper.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="query-methods">
<h1>Query methods<a class="headerlink" href="#query-methods" title="Link to this heading">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="pg.Query">
<span class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></span><span class="sig-prename descclassname"><span class="pre">pg.</span></span><span class="sig-name descname"><span class="pre">Query</span></span><a class="headerlink" href="#pg.Query" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>The <a class="reference internal" href="#pg.Query" title="pg.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a> object returned by <a class="reference internal" href="connection.html#pg.Connection.query" title="pg.Connection.query"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.query()</span></code></a> and
<a class="reference internal" href="db_wrapper.html#pg.DB.query" title="pg.DB.query"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DB.query()</span></code></a> can be used as an iterable returning rows as tuples.
You can also directly access row tuples using their index, and get
the number of rows with the <code class="xref py py-func docutils literal notranslate"><span class="pre">len()</span></code> function.
The <a class="reference internal" href="#pg.Query" title="pg.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a> class also provides the following methods for accessing
the results of the query:</p>
<section id="getresult-get-query-values-as-list-of-tuples">
<h2>getresult – get query values as list of tuples<a class="headerlink" href="#getresult-get-query-values-as-list-of-tuples" title="Link to this heading">¶</a></h2>
<dl class="py method">
<dt class="sig sig-object py" id="pg.Query.getresult">
<span class="sig-prename descclassname"><span class="pre">Query.</span></span><span class="sig-name descname"><span class="pre">getresult</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pg.Query.getresult" title="Link to this definition">¶</a></dt>
<dd><p>Get query values as list of tuples</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>result values as a list of tuples</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – too many (any) parameters</p></li>
<li><p><strong>MemoryError</strong> – internal memory error</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>This method returns query results as a list of tuples.
More information about this result may be accessed using
<a class="reference internal" href="#pg.Query.listfields" title="pg.Query.listfields"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.listfields()</span></code></a>, <a class="reference internal" href="#pg.Query.fieldname" title="pg.Query.fieldname"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.fieldname()</span></code></a>
and <a class="reference internal" href="#pg.Query.fieldnum" title="pg.Query.fieldnum"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.fieldnum()</span></code></a> methods.</p>
<p>Note that since PyGreSQL 5.0 this method will return the values of array
type columns as Python lists.</p>
<p>Since PyGreSQL 5.1 the <a class="reference internal" href="#pg.Query" title="pg.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a> can be also used directly as
an iterable sequence, i.e. you can iterate over the <a class="reference internal" href="#pg.Query" title="pg.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a>
object to get the same tuples as returned by <a class="reference internal" href="#pg.Query.getresult" title="pg.Query.getresult"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.getresult()</span></code></a>.
This is slightly more efficient than getting the full list of results,
but note that the full result is always fetched from the server anyway
when the query is executed.</p>
<p>You can also call <code class="xref py py-func docutils literal notranslate"><span class="pre">len()</span></code> on a query to find the number of rows
in the result, and access row tuples using their index directly on
the <a class="reference internal" href="#pg.Query" title="pg.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a> object.</p>
<p>When the <a class="reference internal" href="#pg.Query" title="pg.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a> object was returned by <a class="reference internal" href="connection.html#pg.Connection.send_query" title="pg.Connection.send_query"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.send_query()</span></code></a>,
other return values are also possible, as documented there.</p>
</section>
<section id="dictresult-dictiter-get-query-values-as-dictionaries">
<h2>dictresult/dictiter – get query values as dictionaries<a class="headerlink" href="#dictresult-dictiter-get-query-values-as-dictionaries" title="Link to this heading">¶</a></h2>
<dl class="py method">
<dt class="sig sig-object py" id="pg.Query.dictresult">
<span class="sig-prename descclassname"><span class="pre">Query.</span></span><span class="sig-name descname"><span class="pre">dictresult</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pg.Query.dictresult" title="Link to this definition">¶</a></dt>
<dd><p>Get query values as list of dictionaries</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>result values as a list of dictionaries</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – too many (any) parameters</p></li>
<li><p><strong>MemoryError</strong> – internal memory error</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>This method returns query results as a list of dictionaries which have
the field names as keys.</p>
<p>If the query has duplicate field names, you will get the value for the
field with the highest index in the query.</p>
<p>Note that since PyGreSQL 5.0 this method will return the values of array
type columns as Python lists.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pg.Query.dictiter">
<span class="sig-prename descclassname"><span class="pre">Query.</span></span><span class="sig-name descname"><span class="pre">dictiter</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pg.Query.dictiter" title="Link to this definition">¶</a></dt>
<dd><p>Get query values as iterable of dictionaries</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>result values as an iterable of dictionaries</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>iterable</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – too many (any) parameters</p></li>
<li><p><strong>MemoryError</strong> – internal memory error</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>This method returns query results as an iterable of dictionaries which have
the field names as keys. This is slightly more efficient than getting the full
list of results as dictionaries, but note that the full result is always
fetched from the server anyway when the query is executed.</p>
<p>If the query has duplicate field names, you will get the value for the
field with the highest index in the query.</p>
<p>When the <a class="reference internal" href="#pg.Query" title="pg.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a> object was returned by <a class="reference internal" href="connection.html#pg.Connection.send_query" title="pg.Connection.send_query"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.send_query()</span></code></a>,
other return values are also possible, as documented there.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 5.1.</span></p>
</div>
</section>
<section id="namedresult-namediter-get-query-values-as-named-tuples">
<h2>namedresult/namediter – get query values as named tuples<a class="headerlink" href="#namedresult-namediter-get-query-values-as-named-tuples" title="Link to this heading">¶</a></h2>
<dl class="py method">
<dt class="sig sig-object py" id="pg.Query.namedresult">
<span class="sig-prename descclassname"><span class="pre">Query.</span></span><span class="sig-name descname"><span class="pre">namedresult</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pg.Query.namedresult" title="Link to this definition">¶</a></dt>
<dd><p>Get query values as list of named tuples</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>result values as a list of named tuples</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – too many (any) parameters</p></li>
<li><p><strong>TypeError</strong> – named tuples not supported</p></li>
<li><p><strong>MemoryError</strong> – internal memory error</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>This method returns query results as a list of named tuples with
proper field names.</p>
<p>Column names in the database that are not valid as field names for
named tuples (particularly, names starting with an underscore) are
automatically renamed to valid positional names.</p>
<p>Note that since PyGreSQL 5.0 this method will return the values of array
type columns as Python lists.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 4.1.</span></p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="pg.Query.namediter">
<span class="sig-prename descclassname"><span class="pre">Query.</span></span><span class="sig-name descname"><span class="pre">namediter</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pg.Query.namediter" title="Link to this definition">¶</a></dt>
<dd><p>Get query values as iterable of named tuples</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>result values as an iterable of named tuples</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>iterable</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – too many (any) parameters</p></li>
<li><p><strong>TypeError</strong> – named tuples not supported</p></li>
<li><p><strong>MemoryError</strong> – internal memory error</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>This method returns query results as an iterable of named tuples with
proper field names. This is slightly more efficient than getting the full
list of results as named tuples, but note that the full result is always
fetched from the server anyway when the query is executed.</p>
<p>Column names in the database that are not valid as field names for
named tuples (particularly, names starting with an underscore) are
automatically renamed to valid positional names.</p>
<p>When the <a class="reference internal" href="#pg.Query" title="pg.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a> object was returned by <a class="reference internal" href="connection.html#pg.Connection.send_query" title="pg.Connection.send_query"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.send_query()</span></code></a>,
other return values are also possible, as documented there.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 5.1.</span></p>
</div>
</section>
<section id="scalarresult-scalariter-get-query-values-as-scalars">
<h2>scalarresult/scalariter – get query values as scalars<a class="headerlink" href="#scalarresult-scalariter-get-query-values-as-scalars" title="Link to this heading">¶</a></h2>
<dl class="py method">
<dt class="sig sig-object py" id="pg.Query.scalarresult">
<span class="sig-prename descclassname"><span class="pre">Query.</span></span><span class="sig-name descname"><span class="pre">scalarresult</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pg.Query.scalarresult" title="Link to this definition">¶</a></dt>
<dd><p>Get first fields from query result as list of scalar values</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>first fields from result as a list of scalar values</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – too many (any) parameters</p></li>
<li><p><strong>MemoryError</strong> – internal memory error</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>This method returns the first fields from the query results as a list of
scalar values in the order returned by the server.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 5.1.</span></p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="pg.Query.scalariter">
<span class="sig-prename descclassname"><span class="pre">Query.</span></span><span class="sig-name descname"><span class="pre">scalariter</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pg.Query.scalariter" title="Link to this definition">¶</a></dt>
<dd><p>Get first fields from query result as iterable of scalar values</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>first fields from result as an iterable of scalar values</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – too many (any) parameters</p></li>
<li><p><strong>MemoryError</strong> – internal memory error</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>This method returns the first fields from the query results as an iterable
of scalar values in the order returned by the server. This is slightly more
efficient than getting the full list of results as rows or scalar values,
but note that the full result is always fetched from the server anyway when
the query is executed.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 5.1.</span></p>
</div>
</section>
<section id="one-onedict-onenamed-onescalar-get-one-result-of-a-query">
<h2>one/onedict/onenamed/onescalar – get one result of a query<a class="headerlink" href="#one-onedict-onenamed-onescalar-get-one-result-of-a-query" title="Link to this heading">¶</a></h2>
<dl class="py method">
<dt class="sig sig-object py" id="pg.Query.one">
<span class="sig-prename descclassname"><span class="pre">Query.</span></span><span class="sig-name descname"><span class="pre">one</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pg.Query.one" title="Link to this definition">¶</a></dt>
<dd><p>Get one row from the result of a query as a tuple</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>next row from the query results as a tuple of fields</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple or None</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – too many (any) parameters</p></li>
<li><p><strong>MemoryError</strong> – internal memory error</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>Returns only one row from the result as a tuple of fields.</p>
<p>This method can be called multiple times to return more rows.
It returns None if the result does not contain one more row.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 5.1.</span></p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="pg.Query.onedict">
<span class="sig-prename descclassname"><span class="pre">Query.</span></span><span class="sig-name descname"><span class="pre">onedict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pg.Query.onedict" title="Link to this definition">¶</a></dt>
<dd><p>Get one row from the result of a query as a dictionary</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>next row from the query results as a dictionary</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict or None</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – too many (any) parameters</p></li>
<li><p><strong>MemoryError</strong> – internal memory error</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>Returns only one row from the result as a dictionary with the field names
used as the keys.</p>
<p>This method can be called multiple times to return more rows.
It returns None if the result does not contain one more row.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 5.1.</span></p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="pg.Query.onenamed">
<span class="sig-prename descclassname"><span class="pre">Query.</span></span><span class="sig-name descname"><span class="pre">onenamed</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pg.Query.onenamed" title="Link to this definition">¶</a></dt>
<dd><p>Get one row from the result of a query as named tuple</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>next row from the query results as a named tuple</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>namedtuple or None</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – too many (any) parameters</p></li>
<li><p><strong>MemoryError</strong> – internal memory error</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>Returns only one row from the result as a named tuple with proper field names.</p>
<p>Column names in the database that are not valid as field names for
named tuples (particularly, names starting with an underscore) are
automatically renamed to valid positional names.</p>
<p>This method can be called multiple times to return more rows.
It returns None if the result does not contain one more row.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 5.1.</span></p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="pg.Query.onescalar">
<span class="sig-prename descclassname"><span class="pre">Query.</span></span><span class="sig-name descname"><span class="pre">onescalar</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pg.Query.onescalar" title="Link to this definition">¶</a></dt>
<dd><p>Get one row from the result of a query as scalar value</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>next row from the query results as a scalar value</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>type of first field or None</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – too many (any) parameters</p></li>
<li><p><strong>MemoryError</strong> – internal memory error</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>Returns the first field of the next row from the result as a scalar value.</p>
<p>This method can be called multiple times to return more rows as scalars.
It returns None if the result does not contain one more row.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 5.1.</span></p>
</div>
</section>
<section id="single-singledict-singlenamed-singlescalar-get-single-result-of-a-query">
<h2>single/singledict/singlenamed/singlescalar – get single result of a query<a class="headerlink" href="#single-singledict-singlenamed-singlescalar-get-single-result-of-a-query" title="Link to this heading">¶</a></h2>
<dl class="py method">
<dt class="sig sig-object py" id="pg.Query.single">
<span class="sig-prename descclassname"><span class="pre">Query.</span></span><span class="sig-name descname"><span class="pre">single</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pg.Query.single" title="Link to this definition">¶</a></dt>
<dd><p>Get single row from the result of a query as a tuple</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>single row from the query results as a tuple of fields</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pg.InvalidResultError</strong> – result does not have exactly one row</p></li>
<li><p><strong>TypeError</strong> – too many (any) parameters</p></li>
<li><p><strong>MemoryError</strong> – internal memory error</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>Returns a single row from the result as a tuple of fields.</p>
<p>This method returns the same single row when called multiple times.
It raises an <code class="xref py py-exc docutils literal notranslate"><span class="pre">pg.InvalidResultError</span></code> if the result does not have exactly
one row. More specifically, this will be of type <code class="xref py py-exc docutils literal notranslate"><span class="pre">pg.NoResultError</span></code> if it
is empty and of type <code class="xref py py-exc docutils literal notranslate"><span class="pre">pg.MultipleResultsError</span></code> if it has multiple rows.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 5.1.</span></p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="pg.Query.singledict">
<span class="sig-prename descclassname"><span class="pre">Query.</span></span><span class="sig-name descname"><span class="pre">singledict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pg.Query.singledict" title="Link to this definition">¶</a></dt>
<dd><p>Get single row from the result of a query as a dictionary</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>single row from the query results as a dictionary</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pg.InvalidResultError</strong> – result does not have exactly one row</p></li>
<li><p><strong>TypeError</strong> – too many (any) parameters</p></li>
<li><p><strong>MemoryError</strong> – internal memory error</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>Returns a single row from the result as a dictionary with the field names
used as the keys.</p>
<p>This method returns the same single row when called multiple times.
It raises an <code class="xref py py-exc docutils literal notranslate"><span class="pre">pg.InvalidResultError</span></code> if the result does not have exactly
one row. More specifically, this will be of type <code class="xref py py-exc docutils literal notranslate"><span class="pre">pg.NoResultError</span></code> if it
is empty and of type <code class="xref py py-exc docutils literal notranslate"><span class="pre">pg.MultipleResultsError</span></code> if it has multiple rows.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 5.1.</span></p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="pg.Query.singlenamed">
<span class="sig-prename descclassname"><span class="pre">Query.</span></span><span class="sig-name descname"><span class="pre">singlenamed</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pg.Query.singlenamed" title="Link to this definition">¶</a></dt>
<dd><p>Get single row from the result of a query as named tuple</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>single row from the query results as a named tuple</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>namedtuple</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pg.InvalidResultError</strong> – result does not have exactly one row</p></li>
<li><p><strong>TypeError</strong> – too many (any) parameters</p></li>
<li><p><strong>MemoryError</strong> – internal memory error</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>Returns single row from the result as a named tuple with proper field names.</p>
<p>Column names in the database that are not valid as field names for
named tuples (particularly, names starting with an underscore) are
automatically renamed to valid positional names.</p>
<p>This method returns the same single row when called multiple times.
It raises an <code class="xref py py-exc docutils literal notranslate"><span class="pre">pg.InvalidResultError</span></code> if the result does not have exactly
one row. More specifically, this will be of type <code class="xref py py-exc docutils literal notranslate"><span class="pre">pg.NoResultError</span></code> if it
is empty and of type <code class="xref py py-exc docutils literal notranslate"><span class="pre">pg.MultipleResultsError</span></code> if it has multiple rows.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 5.1.</span></p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="pg.Query.singlescalar">
<span class="sig-prename descclassname"><span class="pre">Query.</span></span><span class="sig-name descname"><span class="pre">singlescalar</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pg.Query.singlescalar" title="Link to this definition">¶</a></dt>
<dd><p>Get single row from the result of a query as scalar value</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>single row from the query results as a scalar value</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>type of first field</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pg.InvalidResultError</strong> – result does not have exactly one row</p></li>
<li><p><strong>TypeError</strong> – too many (any) parameters</p></li>
<li><p><strong>MemoryError</strong> – internal memory error</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>Returns the first field of a single row from the result as a scalar value.</p>
<p>This method returns the same single row as scalar when called multiple times.
It raises an <code class="xref py py-exc docutils literal notranslate"><span class="pre">pg.InvalidResultError</span></code> if the result does not have exactly
one row. More specifically, this will be of type <code class="xref py py-exc docutils literal notranslate"><span class="pre">pg.NoResultError</span></code> if it
is empty and of type <code class="xref py py-exc docutils literal notranslate"><span class="pre">pg.MultipleResultsError</span></code> if it has multiple rows.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 5.1.</span></p>
</div>
</section>
<section id="listfields-list-field-names-of-query-result">
<h2>listfields – list field names of query result<a class="headerlink" href="#listfields-list-field-names-of-query-result" title="Link to this heading">¶</a></h2>
<dl class="py method">
<dt class="sig sig-object py" id="pg.Query.listfields">
<span class="sig-prename descclassname"><span class="pre">Query.</span></span><span class="sig-name descname"><span class="pre">listfields</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pg.Query.listfields" title="Link to this definition">¶</a></dt>
<dd><p>List field names of query result</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>field names</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>TypeError</strong> – too many parameters</p>
</dd>
</dl>
</dd></dl>

<p>This method returns the tuple of field names defined for the query result.
The fields are in the same order as the result values.</p>
</section>
<section id="fieldname-fieldnum-field-name-number-conversion">
<h2>fieldname, fieldnum – field name/number conversion<a class="headerlink" href="#fieldname-fieldnum-field-name-number-conversion" title="Link to this heading">¶</a></h2>
<dl class="py method">
<dt class="sig sig-object py" id="pg.Query.fieldname">
<span class="sig-prename descclassname"><span class="pre">Query.</span></span><span class="sig-name descname"><span class="pre">fieldname</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pg.Query.fieldname" title="Link to this definition">¶</a></dt>
<dd><p>Get field name from its number</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>num</strong> (<em>int</em>) – field number</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>field name</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – invalid connection, bad parameter type, or too many parameters</p></li>
<li><p><strong>ValueError</strong> – invalid field number</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>This method allows to find a field name from its rank number. It can be
useful for displaying a result. The fields are in the same order as the
result values.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pg.Query.fieldnum">
<span class="sig-prename descclassname"><span class="pre">Query.</span></span><span class="sig-name descname"><span class="pre">fieldnum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pg.Query.fieldnum" title="Link to this definition">¶</a></dt>
<dd><p>Get field number from its name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – field name</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>field number</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – invalid connection, bad parameter type, or too many parameters</p></li>
<li><p><strong>ValueError</strong> – unknown field name</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>This method returns a field number given its name. It can be used to
build a function that converts result list strings to their correct
type, using a hardcoded table definition. The number returned is the
field rank in the query result.</p>
</section>
<section id="fieldinfo-detailed-info-about-query-result-fields">
<h2>fieldinfo – detailed info about query result fields<a class="headerlink" href="#fieldinfo-detailed-info-about-query-result-fields" title="Link to this heading">¶</a></h2>
<dl class="py method">
<dt class="sig sig-object py" id="pg.Query.fieldinfo">
<span class="sig-prename descclassname"><span class="pre">Query.</span></span><span class="sig-name descname"><span class="pre">fieldinfo</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">field</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#pg.Query.fieldinfo" title="Link to this definition">¶</a></dt>
<dd><p>Get information on one or all fields of the query</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>field</strong> (<em>int</em><em> or </em><em>str</em>) – a column number or name (optional)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>field info tuple(s) for all fields or given field</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>IndexError</strong> – field does not exist</p></li>
<li><p><strong>TypeError</strong> – too many parameters</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>If the <code class="docutils literal notranslate"><span class="pre">field</span></code> is specified by passing either a column number or a field
name, a four-tuple with information for the specified field of the query
result will be returned. If no <code class="docutils literal notranslate"><span class="pre">field</span></code> is specified, a tuple of four-tuples
for every field of the previous query result will be returned, in the same
order as they appear in the query result.</p>
<p>The four-tuples contain the following information: The field name, the
internal OID number of the field type, the size in bytes of the column or a
negative value if it is of variable size, and a type-specific modifier value.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 5.2.</span></p>
</div>
</section>
<section id="memsize-return-number-of-bytes-allocated-by-query-result">
<h2>memsize – return number of bytes allocated by query result<a class="headerlink" href="#memsize-return-number-of-bytes-allocated-by-query-result" title="Link to this heading">¶</a></h2>
<dl class="py method">
<dt class="sig sig-object py" id="pg.Query.memsize">
<span class="sig-prename descclassname"><span class="pre">Query.</span></span><span class="sig-name descname"><span class="pre">memsize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pg.Query.memsize" title="Link to this definition">¶</a></dt>
<dd><p>Return number of bytes allocated by query result</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>number of bytes allocated for the query result</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>TypeError</strong> – Too many arguments.</p>
</dd>
</dl>
</dd></dl>

<p>This method returns the number of bytes allocated for the query result.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 5.2: </span>(needs PostgreSQL &gt;= 12)</p>
</div>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/pygresql.png" alt="Logo of PyGreSQL"/>
            </a></p>
<h1 class="logo"><a href="../../index.html">PyGreSQL</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../about.html">About PyGreSQL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../copyright.html">Copyright notice</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../download/index.html">Download information</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">The PyGreSQL documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#contents">Contents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#indices-and-tables">Indices and tables</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../community/index.html">PyGreSQL Development and Support</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">The PyGreSQL documentation</a><ul>
  <li><a href="index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pg</span></code> — The Classic PyGreSQL Interface</a><ul>
      <li>Previous: <a href="db_wrapper.html" title="previous chapter">The DB wrapper class</a></li>
      <li>Next: <a href="large_objects.html" title="next chapter">LargeObject – Large Objects</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2026, The PyGreSQL team.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 9.1.0</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="../../_sources/contents/pg/query.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>