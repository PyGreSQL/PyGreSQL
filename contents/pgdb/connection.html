<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Connection – The connection object &#8212; PyGreSQL 6.2.3</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="../../_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css?v=27fed22d" />
    <script src="../../_static/documentation_options.js?v=c6c79ff1"></script>
    <script src="../../_static/doctools.js?v=fd6eb6e6"></script>
    <script src="../../_static/sphinx_highlight.js?v=6ffebe34"></script>
    <link rel="icon" href="../../_static/favicon.ico"/>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="Cursor – The cursor object" href="cursor.html" />
    <link rel="prev" title="Module functions and constants" href="module.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="connection-the-connection-object">
<h1>Connection – The connection object<a class="headerlink" href="#connection-the-connection-object" title="Link to this heading">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="pgdb.Connection">
<span class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></span><span class="sig-prename descclassname"><span class="pre">pgdb.</span></span><span class="sig-name descname"><span class="pre">Connection</span></span><a class="headerlink" href="#pgdb.Connection" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>These connection objects respond to the following methods.</p>
<p>Note that <code class="docutils literal notranslate"><span class="pre">pgdb.Connection</span></code> objects also implement the context manager
protocol, i.e. you can use them in a <code class="docutils literal notranslate"><span class="pre">with</span></code> statement. When the <code class="docutils literal notranslate"><span class="pre">with</span></code>
block ends, the current transaction will be automatically committed or
rolled back if there was an exception, and you won’t need to do this manually.</p>
<section id="close-close-the-connection">
<h2>close – close the connection<a class="headerlink" href="#close-close-the-connection" title="Link to this heading">¶</a></h2>
<dl class="py method">
<dt class="sig sig-object py" id="pgdb.Connection.close">
<span class="sig-prename descclassname"><span class="pre">Connection.</span></span><span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pgdb.Connection.close" title="Link to this definition">¶</a></dt>
<dd><p>Close the connection now (rather than whenever it is deleted)</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<p>The connection will be unusable from this point forward; an <a class="reference internal" href="module.html#pgdb.Error" title="pgdb.Error"><code class="xref py py-exc docutils literal notranslate"><span class="pre">Error</span></code></a>
(or subclass) exception will be raised if any operation is attempted with
the connection. The same applies to all cursor objects trying to use the
connection. Note that closing a connection without committing the changes
first will cause an implicit rollback to be performed.</p>
</section>
<section id="commit-commit-the-connection">
<h2>commit – commit the connection<a class="headerlink" href="#commit-commit-the-connection" title="Link to this heading">¶</a></h2>
<dl class="py method">
<dt class="sig sig-object py" id="pgdb.Connection.commit">
<span class="sig-prename descclassname"><span class="pre">Connection.</span></span><span class="sig-name descname"><span class="pre">commit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pgdb.Connection.commit" title="Link to this definition">¶</a></dt>
<dd><p>Commit any pending transaction to the database</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<p>Note that connections always use a transaction, unless you set the
<a class="reference internal" href="#pgdb.Connection.autocommit" title="pgdb.Connection.autocommit"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Connection.autocommit</span></code></a> attribute described below.</p>
</section>
<section id="rollback-roll-back-the-connection">
<h2>rollback – roll back the connection<a class="headerlink" href="#rollback-roll-back-the-connection" title="Link to this heading">¶</a></h2>
<dl class="py method">
<dt class="sig sig-object py" id="pgdb.Connection.rollback">
<span class="sig-prename descclassname"><span class="pre">Connection.</span></span><span class="sig-name descname"><span class="pre">rollback</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pgdb.Connection.rollback" title="Link to this definition">¶</a></dt>
<dd><p>Roll back any pending transaction to the database</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<p>This method causes the database to roll back to the start of any pending
transaction. Closing a connection without committing the changes first will
cause an implicit rollback to be performed.</p>
</section>
<section id="cursor-return-a-new-cursor-object">
<h2>cursor – return a new cursor object<a class="headerlink" href="#cursor-return-a-new-cursor-object" title="Link to this heading">¶</a></h2>
<dl class="py method">
<dt class="sig sig-object py" id="pgdb.Connection.cursor">
<span class="sig-prename descclassname"><span class="pre">Connection.</span></span><span class="sig-name descname"><span class="pre">cursor</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pgdb.Connection.cursor" title="Link to this definition">¶</a></dt>
<dd><p>Return a new cursor object using the connection</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a connection object</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="cursor.html#pgdb.Cursor" title="pgdb.Cursor"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cursor</span></code></a></p>
</dd>
</dl>
</dd></dl>

<p>This method returns a new <a class="reference internal" href="cursor.html#pgdb.Cursor" title="pgdb.Cursor"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cursor</span></code></a> object that can be used to
operate on the database in the way described in the next section.</p>
</section>
<section id="attributes-that-are-not-part-of-the-standard">
<h2>Attributes that are not part of the standard<a class="headerlink" href="#attributes-that-are-not-part-of-the-standard" title="Link to this heading">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The following attributes are not part of the DB-API 2 standard.</p>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="pgdb.Connection.closed">
<span class="sig-prename descclassname"><span class="pre">Connection.</span></span><span class="sig-name descname"><span class="pre">closed</span></span><a class="headerlink" href="#pgdb.Connection.closed" title="Link to this definition">¶</a></dt>
<dd><p>This is <em>True</em> if the connection has been closed or has become invalid</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pgdb.Connection.cursor_type">
<span class="sig-prename descclassname"><span class="pre">Connection.</span></span><span class="sig-name descname"><span class="pre">cursor_type</span></span><a class="headerlink" href="#pgdb.Connection.cursor_type" title="Link to this definition">¶</a></dt>
<dd><p>The default cursor type used by the connection</p>
</dd></dl>

<p>If you want to use your own custom subclass of the <a class="reference internal" href="cursor.html#pgdb.Cursor" title="pgdb.Cursor"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cursor</span></code></a> class
with he connection, set this attribute to your custom cursor class. You will
then get your custom cursor whenever you call <a class="reference internal" href="#pgdb.Connection.cursor" title="pgdb.Connection.cursor"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.cursor()</span></code></a>.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 5.0.</span></p>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="pgdb.Connection.type_cache">
<span class="sig-prename descclassname"><span class="pre">Connection.</span></span><span class="sig-name descname"><span class="pre">type_cache</span></span><a class="headerlink" href="#pgdb.Connection.type_cache" title="Link to this definition">¶</a></dt>
<dd><p>A dictionary with the various type codes for the PostgreSQL types</p>
</dd></dl>

<p>This can be used for getting more information on the PostgreSQL database
types or changing the typecast functions used for the connection. See the
description of the <a class="reference internal" href="typecache.html#pgdb.TypeCache" title="pgdb.TypeCache"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypeCache</span></code></a> class for details.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 5.0.</span></p>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="pgdb.Connection.autocommit">
<span class="sig-prename descclassname"><span class="pre">Connection.</span></span><span class="sig-name descname"><span class="pre">autocommit</span></span><a class="headerlink" href="#pgdb.Connection.autocommit" title="Link to this definition">¶</a></dt>
<dd><p>A read/write attribute to get/set the autocommit mode</p>
</dd></dl>

<p>Normally, all DB-API 2 SQL commands are run inside a transaction. Sometimes
this behavior is not desired; there are also some SQL commands such as VACUUM
which cannot be run inside a transaction.</p>
<p>By setting this attribute to <code class="docutils literal notranslate"><span class="pre">True</span></code> you can change this behavior so that no
transactions will be started for that connection. In this case every executed
SQL command has immediate effect on the database and you don’t need to call
<a class="reference internal" href="#pgdb.Connection.commit" title="pgdb.Connection.commit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.commit()</span></code></a> explicitly. In this mode, you can still use
<code class="docutils literal notranslate"><span class="pre">with</span> <span class="pre">con:</span></code> blocks to run parts of the code using the connection <code class="docutils literal notranslate"><span class="pre">con</span></code>
inside a transaction.</p>
<p>By default, this attribute is set to <code class="docutils literal notranslate"><span class="pre">False</span></code> which conforms to the behavior
specified by the DB-API 2 standard (manual commit required).</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 5.1.</span></p>
</div>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/pygresql.png" alt="Logo of PyGreSQL"/>
            </a></p>
<h1 class="logo"><a href="../../index.html">PyGreSQL</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../about.html">About PyGreSQL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../copyright.html">Copyright notice</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../download/index.html">Download information</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">The PyGreSQL documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#contents">Contents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#indices-and-tables">Indices and tables</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../community/index.html">PyGreSQL Development and Support</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">The PyGreSQL documentation</a><ul>
  <li><a href="index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pgdb</span></code> — The DB-API Compliant Interface</a><ul>
      <li>Previous: <a href="module.html" title="previous chapter">Module functions and constants</a></li>
      <li>Next: <a href="cursor.html" title="next chapter">Cursor – The cursor object</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2026, The PyGreSQL team.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 9.1.0</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="../../_sources/contents/pgdb/connection.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>